<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Cart</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content>
  <ion-list #scheduleList [hidden]="cartItems.length === 0" lines="full">
    <ion-item-sliding *ngFor="let item of cartItems" [hidden]="item.hide">
      <!-- <ion-item-group > -->
      <ion-item>
        <ion-thumbnail slot="start">
          <ion-slides>
            <fiv-gallery #gallery>
              <ion-slide *ngFor="let image of item.details.img">
                <fiv-gallery-image
                  [src]="image ? image : '../assets/img/no_image.jpg'"
                ></fiv-gallery-image>
              </ion-slide>
            </fiv-gallery>
          </ion-slides>
        </ion-thumbnail>
        <ion-label class="ion-text-wrap">
          <ion-note>{{item.details.brand}}</ion-note>
          <h3>{{item.details.name}}</h3>
          <h3 class="quantity">{{item.details.pricePerQuantity}}</h3>

          <ion-grid slot="end" class="ion-no-padding">
            <ion-row class="ion-no-padding">
              <ion-col size="5"> <h3 class="price mont-semibold">Rs {{item.details.price}}</h3> </ion-col>
              <ion-col>
                <ion-row class="ion-no-padding" class="ion-align-items-center">
                  <ion-col>
                    <ion-button
                      size="small"
                      color="danger"
                      (click)="removeFromCart(item.productId,item.count)"
                    >
                      <ion-icon name="remove-circle-outline"></ion-icon
                    ></ion-button>
                  </ion-col>
                  <ion-col>
                    <ion-text color="danger">
                      <div class="ion-text-center">{{item.count}}</div>
                    </ion-text>
                  </ion-col>
                  <ion-col>
                    <ion-button
                      size="small"
                      color="danger"
                      (click)="addToCart(item.productId)"
                    >
                      <ion-icon name="add-circle-outline"></ion-icon
                    ></ion-button>
                  </ion-col>
                </ion-row>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-label>
      </ion-item>

      <ion-item-options side="end">
        <ion-item-option
          color="danger"
          (click)="removeFromCart(item.productId,1)"
          >Remove item</ion-item-option
        >
      </ion-item-options>
      <!-- </ion-item-group> -->
    </ion-item-sliding>
  </ion-list>
  <div [hidden]="cartItems.length > 0">
    <img src="../assets/img/empty-cart.png" />
  </div>
  <ion-text *ngIf="upiData">upiData {{upiData}}</ion-text>
</ion-content>

<ion-footer>
  <ion-toolbar color="cart-checkout" class="ion-no-padding">
    <ion-grid class="ion-no-padding">
      <ion-row class="ion-no-padding">
        <ion-col class="ion-no-padding">
          <ion-title class="ion-no-padding ion-no-margin">
            <ion-grid>
              <ion-row>
                Total: Rs {{total}}
              </ion-row>
            </ion-grid>
          </ion-title>
        </ion-col>
        <ion-col class="ion-no-padding">
          <ion-button
            [disabled]="cartItems.length === 0 ? true : false"
            color="danger"
            (click)="payWithRazorpay()"
            >Checkout</ion-button
          >
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-toolbar>
</ion-footer>